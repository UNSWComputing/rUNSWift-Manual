

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Adaptive Thresholding &mdash; RoboCup SPL 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Connected Component Analysis (CCA)" href="connected_component_analysis.html" />
    <link rel="prev" title="Vision" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> RoboCup SPL
          

          
            
            <img src="../../_static/rUNSWift.gif" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2020
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../running/index.html">Running the Robot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Perception</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Vision</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Adaptive Thresholding</a></li>
<li class="toctree-l3"><a class="reference internal" href="connected_component_analysis.html">Connected Component Analysis (CCA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="field_feature_detector.html">Field Feature Detector</a></li>
<li class="toctree-l3"><a class="reference internal" href="ball_detector.html">Ball Detector</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_detector.html">Robot Detector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../state_estimation/index.html">State Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../behaviour.html">Behaviour</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../motion/index.html">Motion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking.html">Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../3d_simulation.html">3D Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../game_preparation/index.html">Game Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../style_guide.html">Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../past_research.html">Past Research</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code_releases_team_reports.html">Code Release / Team Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">RoboCup SPL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Perception</a> &raquo;</li>
        
          <li><a href="index.html">Vision</a> &raquo;</li>
        
      <li>Adaptive Thresholding</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/UNSWComputing/rUNSWift-Manual/blob/master/source/perception/vision/adaptive_thresholding.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="adaptive-thresholding">
<h1>Adaptive Thresholding<a class="headerlink" href="#adaptive-thresholding" title="Permalink to this headline">¶</a></h1>
<p>In 2018 we converted the vision system to work with binary images to be more
robust to varied lighting. This is done with adaptive thresholding, which is an
effective method for calculating the threshold dynamically in scenes with uneven levels of brightness.
This is a significant improvement on the static colour calibrated tables used by the team in previous years.</p>
<p>We utilise an efficient implementation (<a class="reference external" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.420.7883&amp;rep=rep1&amp;type=pdf">Adaptive Thresholding Using the Integral Image</a>)
to achieve real-time thresholding on the Nao.
The algorithm determines the average y value (in the YUV422 image) of the pixels within a
square window surrounding each pixel.
If the value of the centre pixel is sufficiently lower than the average within
the window it is set to black, otherwise it is set to white. This process can
be performed efficiently, regardless of window size, with the integral image.</p>
<p>An example of the adaptive thresholding process below.
White pixels are considered light whilst green pixels are dark.</p>
<div class="figure">
<img alt="../../_images/adaptive_thresholding.png" src="../../_images/adaptive_thresholding.png" />
</div>
<p>As this method does not rely on specialised colour tables the exposure of the
image may be allowed to vary. This has allowed us to enable auto exposure on the
camera, further improving our system’s robustness to changes in lighting. Target exposure was brought down to minimise motion blur. Furthermore, manual
colour classification of the environment before each game is no longer necessary,
reducing the setup time. The main downside is the loss of colour information,
previously used to determine the field boundary.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="connected_component_analysis.html" class="btn btn-neutral float-right" title="Connected Component Analysis (CCA)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Vision" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, rUNSWift

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>